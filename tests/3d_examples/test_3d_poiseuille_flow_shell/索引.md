# ğŸ“‚ SPHinXsys åŠŸèƒ½-ä»£ç æ˜ å°„æŠ¥å‘Š

## ğŸ—ï¸ é¡¹ç›®æ¦‚è§ˆ
- **æŠ€æœ¯æ ˆ**: C++ (SPHinXsys Library), MATLAB
- **æ¶æ„æ¨¡å¼**: ç§‘å­¦è®¡ç®—æ¨¡æ‹Ÿï¼Œæ•°æ®é¢„å¤„ç†ä¸å¯è§†åŒ–
- **çŠ¶æ€ç®¡ç†**: SPHinXsys å†…éƒ¨ç²’å­ç³»ç»ŸçŠ¶æ€ç®¡ç†ï¼ŒMATLAB ç»“æ„ä½“è¿›è¡Œæ•°æ®ä¼ é€’
- **æ ·å¼æ–¹æ¡ˆ**: MATLAB ç»˜å›¾å‡½æ•°é…ç½®
- **æ„å»ºå·¥å…·**: CMake (é€šè¿‡ `CMakeLists.txt`), `build.bat` (Windows æ‰¹å¤„ç†è„šæœ¬)
- **åŒ…ç®¡ç†**: N/A (C++ ä¾èµ– SPHinXsys åº“ï¼ŒMATLAB è„šæœ¬ç‹¬ç«‹è¿è¡Œ)

## ğŸ“Š åŠŸèƒ½æ¨¡å—ç»Ÿè®¡
- **C++ æ¨¡æ‹Ÿæ ¸å¿ƒ**: `poiseuille_flow_shell.cpp` (1 ä¸ªä¸»è¦æ¨¡æ‹Ÿæ–‡ä»¶)
- **MATLAB æ•°æ®å¤„ç†**: `preprocess_data.m` (1 ä¸ªæ•°æ®é¢„å¤„ç†è„šæœ¬)
- **MATLAB æ•°æ®å¯è§†åŒ–**: `visualize_flow.m` (1 ä¸ªæ•°æ®å¯è§†åŒ–è„šæœ¬)
- **é…ç½®æ–‡ä»¶**: `CMakeLists.txt`, `build.bat`
- **æ–‡æ¡£**: `README.md`, `SPHinXsys_Workflow_Cookbook.md`
- **è¾“å‡ºæ•°æ®**: `output/` ç›®å½•ä¸‹çš„ `.vtp` å’Œ `.dat` æ–‡ä»¶

## ğŸ—‚ï¸ ç›®å½•ç»“æ„æ¦‚è§ˆ
```
[é¡¹ç›®æ ¹ç›®å½•]/
â”œâ”€â”€ build.bat
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ flow_data.mat
â”œâ”€â”€ poiseuille_flow_shell.cpp
â”œâ”€â”€ preprocess_data.m
â”œâ”€â”€ README.md
â”œâ”€â”€ SPHinXsys_Workflow_Cookbook.md
â”œâ”€â”€ visualize_flow.m
â”œâ”€â”€ input/
â””â”€â”€ output/
    â”œâ”€â”€ fluid_observer_axial_Velocity.dat
    â”œâ”€â”€ fluid_observer_radial_Velocity.dat
    â””â”€â”€ ... (å…¶ä»– .vtp æ–‡ä»¶)
```

---

## ğŸ¯ åŠŸèƒ½æ˜ å°„è¡¨

### æ¨¡æ‹Ÿæ ¸å¿ƒ - 3D Poiseuille æµæ¨¡æ‹Ÿ

**ğŸ”¤ ç”¨æˆ·æè¿°æ–¹å¼**:
- ä¸»è¦: "Poiseuille æµæ¨¡æ‹Ÿ", "æµä½“ä¸å£³ä½“ç›¸äº’ä½œç”¨æ¨¡æ‹Ÿ", "SPH æµä½“æ¨¡æ‹Ÿ"
- åˆ«å: "æµä½“è®¡ç®—", "ç®¡é“æµæ¨¡æ‹Ÿ", "å£³ä½“è€¦åˆ"

**ğŸ“ ä»£ç ä½ç½®**:
- ä¸»æ–‡ä»¶: [`poiseuille_flow_shell.cpp`](poiseuille_flow_shell.cpp)
- æ ¸å¿ƒå‡½æ•°: `poiseuille_flow(const Real resolution_ref, const Real resolution_shell, const Real shell_thickness)` [`poiseuille_flow_shell.cpp:130`](poiseuille_flow_shell.cpp:130)

**ğŸ¨ è§†è§‰æ ‡è¯†**:
- è¾“å‡ºæ–‡ä»¶: `output/WaterBody_*.vtp`, `output/Shell_*.vtp` (VTK æ ¼å¼çš„ç²’å­æ•°æ®)

**âš¡ ä¿®æ”¹æŒ‡å¼•**:
- ä¿®æ”¹æ¨¡æ‹Ÿå‚æ•° (å¦‚æµä½“åŠå¾„ã€é•¿åº¦ã€é›·è¯ºæ•°): ç¼–è¾‘ [`poiseuille_flow_shell.cpp:13-26`](poiseuille_flow_shell.cpp:13-26) çš„ `const Real` å®šä¹‰ã€‚
- ä¿®æ”¹ç²’å­åˆ†è¾¨ç‡: ç¼–è¾‘ `poiseuille_flow` å‡½æ•°è°ƒç”¨å¤„çš„ `resolution_ref`, `resolution_shell` å‚æ•°ï¼Œä¾‹å¦‚ [`poiseuille_flow_shell.cpp:403-406`](poiseuille_flow_shell.cpp:403-406) çš„ `TEST` å—ã€‚
- ä¿®æ”¹æ¨¡æ‹Ÿæ—¶é—´æˆ–è¾“å‡ºé¢‘ç‡: ç¼–è¾‘ [`poiseuille_flow_shell.cpp:269-271`](poiseuille_flow_shell.cpp:269-271) çš„ `end_time`, `Output_Time`ã€‚
- ä¿®æ”¹æµä½“æˆ–å£³ä½“ææ–™å±æ€§: ç¼–è¾‘ [`poiseuille_flow_shell.cpp:176`](poiseuille_flow_shell.cpp:176) (æµä½“) æˆ– [`poiseuille_flow_shell.cpp:182`](poiseuille_flow_shell.cpp:182) (å£³ä½“) çš„ `defineClosure` æˆ– `defineMaterial`ã€‚
- ä¿®æ”¹å…¥å£é€Ÿåº¦åˆ†å¸ƒ: ç¼–è¾‘ [`SPH::InflowVelocity::operator()`](poiseuille_flow_shell.cpp:115) å‡½æ•°ã€‚

---

### æ•°æ®å¤„ç† - æ¨¡æ‹Ÿç»“æœé¢„å¤„ç†

**ğŸ”¤ ç”¨æˆ·æè¿°æ–¹å¼**:
- ä¸»è¦: "å¤„ç†æ¨¡æ‹Ÿæ•°æ®", "VTP æ–‡ä»¶è§£æ", "ç”Ÿæˆ MATLAB æ•°æ®æ–‡ä»¶"
- åˆ«å: "æ•°æ®è½¬æ¢", "æ•°æ®æ¸…æ´—", "æµæ•°æ®é¢„å¤„ç†"

**ğŸ“ ä»£ç ä½ç½®**:
- ä¸»æ–‡ä»¶: [`preprocess_data.m`](preprocess_data.m)
- æ ¸å¿ƒåŠŸèƒ½: ä» VTP æ–‡ä»¶æå–æ—¶é—´ã€ä½ç½®å’Œé€Ÿåº¦æ•°æ®ï¼Œå¹¶ä¿å­˜ä¸º `flow_data.mat`ã€‚

**ğŸ¨ è§†è§‰æ ‡è¯†**:
- è¾“å…¥æ–‡ä»¶: `output/*.vtp` (SPHinXsys æ¨¡æ‹Ÿè¾“å‡º)
- è¾“å‡ºæ–‡ä»¶: `flow_data.mat` (MATLAB æ•°æ®æ–‡ä»¶)

**âš¡ ä¿®æ”¹æŒ‡å¼•**:
- ä¿®æ”¹è¾“å‡ºç›®å½•æˆ–è¾“å‡ºæ–‡ä»¶å: ç¼–è¾‘ [`preprocess_data.m:9-10`](preprocess_data.m:9-10) çš„ `output_dir`, `output_mat_file`ã€‚
- ä¿®æ”¹æ—¶é—´ç¼©æ”¾å› å­: ç¼–è¾‘ [`preprocess_data.m:11`](preprocess_data.m:11) çš„ `time_scaling_factor`ã€‚
- ä¿®æ”¹ VTP æ–‡ä»¶è§£æé€»è¾‘: ç¼–è¾‘ [`preprocess_data.m:41-64`](preprocess_data.m:41-64) çš„æ­£åˆ™è¡¨è¾¾å¼å’Œ `sscanf` è°ƒç”¨ã€‚

---

### æ•°æ®å¯è§†åŒ– - æµä½“åŠ¨ç”»ä¸å‰–é¢å›¾

**ğŸ”¤ ç”¨æˆ·æè¿°æ–¹å¼**:
- ä¸»è¦: "å¯è§†åŒ–æµä½“æ¨¡æ‹Ÿ", "3D ç²’å­åŠ¨ç”»", "é€Ÿåº¦å‰–é¢å›¾"
- åˆ«å: "æµåœºæ˜¾ç¤º", "ç»“æœåŠ¨ç”»", "MATLAB å¯è§†åŒ–"

**ğŸ“ ä»£ç ä½ç½®**:
- ä¸»æ–‡ä»¶: [`visualize_flow.m`](visualize_flow.m)
- æ ¸å¿ƒåŠŸèƒ½: åŠ è½½ `flow_data.mat`ï¼Œåˆ›å»º 3D ç²’å­åŠ¨ç”»å’Œ 2D é€Ÿåº¦å‰–é¢å›¾ï¼Œå¹¶åŒæ­¥æ›´æ–°ã€‚

**ğŸ¨ è§†è§‰æ ‡è¯†**:
- è¾“å…¥æ–‡ä»¶: `flow_data.mat`
- è¾“å‡º: MATLAB å›¾å½¢çª—å£æ˜¾ç¤º 3D ç²’å­åŠ¨ç”»å’Œ 2D é€Ÿåº¦å‰–é¢å›¾

**âš¡ ä¿®æ”¹æŒ‡å¼•**:
- ä¿®æ”¹åŠ¨ç”»æ’­æ”¾é€Ÿåº¦æˆ–ç²’å­å¤§å°: ç¼–è¾‘ [`visualize_flow.m:12-13`](visualize_flow.m:12-13) çš„ `animation_speed`, `marker_size`ã€‚
- ä¿®æ”¹ 3D è§†å›¾è§’åº¦æˆ–è½´é™åˆ¶: ç¼–è¾‘ [`visualize_flow.m:50`](visualize_flow.m:50) (view) æˆ– [`visualize_flow.m:77-79`](visualize_flow.m:77-79) (xlim, ylim, zlim)ã€‚
- ä¿®æ”¹ 2D é€Ÿåº¦å‰–é¢å›¾çš„æ˜¾ç¤ºèŒƒå›´: ç¼–è¾‘ [`visualize_flow.m:96-97`](visualize_flow.m:96-97) çš„ `xlim`, `ylim`ã€‚
- ä¿®æ”¹é¢œè‰²æ˜ å°„: ç¼–è¾‘ [`visualize_flow.m:54`](visualize_flow.m:54) çš„ `colormap`ã€‚
- ä¿®æ”¹ 3D æˆ– 2D ç»˜å›¾æ›´æ–°é€»è¾‘: ç¼–è¾‘ [`visualize_flow.m:104-120`](visualize_flow.m:104-120) çš„åŠ¨ç”»å¾ªç¯éƒ¨åˆ†ã€‚

---

### æ„å»ºç³»ç»Ÿ - ç¼–è¯‘ä¸é¡¹ç›®é…ç½®

**ğŸ”¤ ç”¨æˆ·æè¿°æ–¹å¼**:
- ä¸»è¦: "ç¼–è¯‘é¡¹ç›®", "æ„å»ºæ¨¡æ‹Ÿç¨‹åº"
- åˆ«å: "CMake é…ç½®", "Windows æ„å»ºè„šæœ¬"

**ğŸ“ ä»£ç ä½ç½®**:
- ä¸»æ–‡ä»¶: [`CMakeLists.txt`](CMakeLists.txt) (CMake æ„å»ºé…ç½®)
- è„šæœ¬: [`build.bat`](build.bat) (Windows æ„å»ºæ‰¹å¤„ç†è„šæœ¬)

**ğŸ¨ è§†è§‰æ ‡è¯†**:
- å‘½ä»¤è¡Œè¾“å‡º: ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ä¿¡æ¯
- è¾“å‡ºæ–‡ä»¶: ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ (ä¾‹å¦‚ `poiseuille_flow_shell.exe`)

**âš¡ ä¿®æ”¹æŒ‡å¼•**:
- ä¿®æ”¹ CMake æ„å»ºé€‰é¡¹: ç¼–è¾‘ [`CMakeLists.txt`](CMakeLists.txt) ä¸­çš„ `cmake` å‘½ä»¤æˆ–å˜é‡ã€‚
- ä¿®æ”¹ Windows æ„å»ºæµç¨‹: ç¼–è¾‘ [`build.bat`](build.bat) ä¸­çš„å‘½ä»¤ã€‚

---

### æ–‡æ¡£ - é¡¹ç›®è¯´æ˜ä¸å·¥ä½œæµ

**ğŸ”¤ ç”¨æˆ·æè¿°æ–¹å¼**:
- ä¸»è¦: "é¡¹ç›®è¯´æ˜", "å·¥ä½œæµæŒ‡å—"
- åˆ«å: "README", "Cookbook", "ä½¿ç”¨è¯´æ˜"

**ğŸ“ ä»£ç ä½ç½®**:
- ä¸»è¦æ–‡ä»¶: [`README.md`](README.md), [`SPHinXsys_Workflow_Cookbook.md`](SPHinXsys_Workflow_Cookbook.md)

**ğŸ¨ è§†è§‰æ ‡è¯†**:
- æ–‡æœ¬å†…å®¹: çº¯æ–‡æœ¬æˆ– Markdown æ ¼å¼çš„è¯´æ˜æ–‡æ¡£

**âš¡ ä¿®æ”¹æŒ‡å¼•**:
- ä¿®æ”¹é¡¹ç›®æ¦‚è¿°æˆ–å®‰è£…è¯´æ˜: ç¼–è¾‘ [`README.md`](README.md)ã€‚
- ä¿®æ”¹ SPHinXsys å·¥ä½œæµç›¸å…³æŒ‡å—: ç¼–è¾‘ [`SPHinXsys_Workflow_Cookbook.md`](SPHinXsys_Workflow_Cookbook.md)ã€‚